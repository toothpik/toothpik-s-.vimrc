#!/usr/bin/python3
#  bracket current date in tocal
#  used by ~/bin/tcnlc2, which is used by tc2, tcl2, and tcw2
from datetime import date, timedelta
from sys import stdin
import re
tod = date.today()
day = timedelta(days=1)
tom = tod + day
yr = tod.strftime("%Y")
nyi = int(yr) + 1
ny = "%d" % nyi
doneNYE = False
todf = tod.strftime("%b %e")
tomf = tom.strftime("%b %e")
y = re.compile("^ %s" % yr)
n = re.compile("^ %s" % ny)
t = re.compile("^   %s" % todf)
m = re.compile("^   %s" % tomf)
rc = 0
inyr = False
ll = 0
for line in stdin:
    rc += 1
    if y.search(line):
        inyr = True
    if n.search(line):
        inyr = False
    if inyr:
        if t.search(line):
            ll = len(line.rstrip())
            print("  %s" % ("~" * (ll - 1)))
            print("%s  <────<<" % line.rstrip())
        elif m.search(line):
            print("  %s" % ("~" * (ll - 1)))
            print(line.rstrip())
        else:
            print(line.rstrip())
    else:
        #  why this doesn't bracket Dec 31 for me I can't see
        #  at least I got tc6 working...
        if todf == 'Dec 31' and not doneNYE:
            print("  %s" % ("~" * (ll - 1)))
            print(line.rstrip())
            doneNYE = True
        else:
            print(line.rstrip())
