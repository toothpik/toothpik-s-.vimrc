#!/bin/bash
#  list *.vim modules through ghs, vhs, or pt (pass-through)
#  examines the first line
pt='pt'
if test $# -gt 0
then
    case $1 in
        g) pt='ghs -S ~/.vim/readmv.vim'
            ;;
        v) pt='vhs -S ~/.vim/readmv.vim'
            ;;
        *) pt='pt'
            ;;
    esac
fi
for f in *.vim
do
    fl=`head -1 $f`
    printf "%-16s %s\n" "$f" "$fl"
done | $pt
